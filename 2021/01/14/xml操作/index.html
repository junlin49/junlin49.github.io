<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author"><title>xml操作 · JunLu</title><meta name="description" content="XML操作XML文本&amp;lt;skills&amp;gt;  &amp;lt;skill&amp;gt;    &amp;lt;id&amp;gt;2&amp;lt;/id&amp;gt;    &amp;lt;name lang =&amp;quot;cn&amp;quot;&amp;gt;天下无敌&amp;lt;/name&amp;gt;    &amp;lt;damage&amp;gt;123&amp;lt;/damag"><meta name="keywords"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="short icon" href="/images/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/blog_basic.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"><meta name="generator" content="Hexo 5.3.0"></head><body><div class="sidebar animated fadeInDown"><div class="logo-title"><div class="title"><img src="/images/logo@2x.png" style="width:127px;"><h3 title=""><a href="/">JunLu</a></h3></div></div><ul class="social-links"></ul><div class="footer"><a target="_blank" href="/"><span>Theme by </span></a><a target="_blank" rel="noopener" href="https://www.caicai.me"> CaiCai </a><span>&</span><a target="_blank" rel="noopener" href="https://github.com/Ben02/hexo-theme-Anatole"> Ben</a><div class="by_farbox"><a href="https://hexo.io/zh-cn/" target="_blank">Proudly published with Hexo&#65281;</a></div></div></div><div class="main"><div class="page-top animated fadeInDown"><div class="nav"><li><a href="/">Home</a></li><li><a href="/about">Sobre</a></li><li><a href="/archives">Arquivo</a></li><li><a href="/links">Links</a></li></div><div class="information"><div class="back_btn"><li><a class="fa fa-chevron-left" onclick="window.history.go(-1)"> </a></li></div><div class="avatar"><img></div></div></div><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post animated fadeInDown"><div class="post-title"><h3><a>xml操作</a></h3></div><div class="post-content"><h1 id="XML操作"><a href="#XML操作" class="headerlink" title="XML操作"></a>XML操作</h1><h2 id="XML文本"><a href="#XML文本" class="headerlink" title="XML文本"></a>XML文本</h2><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">skills</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">skill</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span>&gt;</span>2<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span> <span class="attr">lang</span> =<span class="string">&quot;cn&quot;</span>&gt;</span>天下无敌<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">damage</span>&gt;</span>123<span class="tag">&lt;/<span class="name">damage</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">skill</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">skill</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span>&gt;</span>4<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span> <span class="attr">lang</span> =<span class="string">&quot;cn&quot;</span>&gt;</span>宇宙无敌<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">damage</span>&gt;</span>1231<span class="tag">&lt;/<span class="name">damage</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">skill</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">skill</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span>&gt;</span>5<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span> <span class="attr">lang</span> =<span class="string">&quot;cn&quot;</span>&gt;</span>多个平行宇宙无敌<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">damage</span>&gt;</span>12331<span class="tag">&lt;/<span class="name">damage</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">skill</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">skills</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="对应的解析代码"><a href="#对应的解析代码" class="headerlink" title="对应的解析代码"></a>对应的解析代码</h2><figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> System.IO;</span><br><span class="line"><span class="keyword">using</span> System.Runtime.CompilerServices;</span><br><span class="line"><span class="keyword">using</span> System.Xml;</span><br><span class="line"></span><br><span class="line">namespace xml操作</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            <span class="comment">//创建技能信息集合，用来存储所有集合</span></span><br><span class="line">            List&lt;skill&gt; skilllist = <span class="keyword">new</span> List&lt;skill&gt;();</span><br><span class="line">            <span class="comment">//XmlDocument 文档解析类</span></span><br><span class="line">            XmlDocument xmldoc = <span class="keyword">new</span> XmlDocument();</span><br><span class="line"></span><br><span class="line">            <span class="comment">//xmldoc.Load(&quot;TextFile1.txt&quot;);//选择要加载解析的xml文档</span></span><br><span class="line">            xmldoc.LoadXml(File.ReadAllText(<span class="string">&quot;TextFile1.txt&quot;</span>));<span class="comment">//同上</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//得到根节点</span></span><br><span class="line">            XmlNode rootNode = xmldoc.FirstChild;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//得到子节点</span></span><br><span class="line">            XmlNodeList childrenListNode = rootNode.ChildNodes;<span class="comment">//获取根节点下的所有子节点集合</span></span><br><span class="line">            <span class="keyword">foreach</span> (XmlNode skillNode <span class="keyword">in</span> childrenListNode)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">//创建skill对象</span></span><br><span class="line">                skill skill = <span class="keyword">new</span> skill();</span><br><span class="line">                XmlNodeList childchildNodeList = skillNode.ChildNodes;<span class="comment">//获取所有的子节点下的子节点</span></span><br><span class="line"></span><br><span class="line">                <span class="comment">//遍历子节点的子节点</span></span><br><span class="line">                <span class="keyword">foreach</span> (XmlNode childchildNode <span class="keyword">in</span> childchildNodeList)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="comment">//通过name属性可以获取节点属性</span></span><br><span class="line">                    <span class="keyword">if</span> (childchildNode.Name == <span class="string">&quot;id&quot;</span>)</span><br><span class="line">                    &#123;</span><br><span class="line">                        skill.id = <span class="built_in">int</span>.Parse(childchildNode.InnerText);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">else</span> <span class="keyword">if</span> (childchildNode.Name == <span class="string">&quot;name&quot;</span>)</span><br><span class="line">                    &#123;</span><br><span class="line">                        skill.name = childchildNode.InnerText;</span><br><span class="line">                        skill.lang = childchildNode.Attributes[<span class="number">0</span>].Value;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">else</span> <span class="keyword">if</span> (childchildNode.Name == <span class="string">&quot;damage&quot;</span>)</span><br><span class="line">                    &#123;</span><br><span class="line">                        skill.damage = <span class="built_in">int</span>.Parse(childchildNode.InnerText);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                skill.printSkillValues();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            Console.ReadKey();</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2021-01-14</span><i class="fa fa-tag"></i><a class="tag" href="/categories/充电/" title="充电">充电 </a><a class="tag" href="/tags/xml/" title="xml">xml </a></div></div></div></div><div class="share"><div class="evernote"><a class="fa fa-bookmark" href="javascript:(function(){EN_CLIP_HOST='http://www.evernote.com';try{var%20x=document.createElement('SCRIPT');x.type='text/javascript';x.src=EN_CLIP_HOST+'/public/bookmarkClipper.js?'+(new%20Date().getTime()/100000);document.getElementsByTagName('head')[0].appendChild(x);}catch(e){location.href=EN_CLIP_HOST+'/clip.action?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title);}})();" ref="nofollow" target="_blank"></a></div><div class="weibo"><a class="fa fa-weibo" href="javascript:void((function(s,d,e){try{}catch(e){}var f='http://service.weibo.com/share/share.php?',u=d.location.href,p=['url=',e(u),'&amp;title=',e(d.title),'&amp;appkey=2924220432'].join('');function a(){if(!window.open([f,p].join(''),'mb',['toolbar=0,status=0,resizable=1,width=620,height=450,left=',(s.width-620)/2,',top=',(s.height-450)/2].join('')))u.href=[f,p].join('');};if(/Firefox/.test(navigator.userAgent)){setTimeout(a,0)}else{a()}})(screen,document,encodeURIComponent));"></a></div><div class="twitter"><a class="fa fa-twitter" target="_blank" rel="noopener" href="http://twitter.com/home?status=,http://junlu.club/2021/01/14/xml操作/,JunLu,xml操作,;"></a></div></div><div class="pagination"><ul class="clearfix"><li class="pre pagbuttons"><a class="btn" role="navigation" href="/2021/01/28/%E5%B7%A5%E4%B8%9A%E6%9C%BA%E5%99%A8%E4%BA%BA%E8%AF%BE%E7%A8%8B%E5%A4%A7%E4%BD%9C%E4%B8%9A/" title="工业机器人课程大作业">Post Anterior</a></li><li class="next pagbuttons"><a class="btn" role="navigation" href="/2021/01/11/matlab%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="matlab学习笔记">Próximo post</a></li></ul></div></div></div></div></div><script src="/js/jquery.js"></script><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script></body></html>
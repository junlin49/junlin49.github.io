<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author"><title>clion输入中文最新解决方法 · JunLu</title><meta name="description" content="CLion 输入中文失效问题解决方法-最新
此处参考链接为：
https://blog.csdn.net/u011166277/article/details/106287587
https://bbs.archlinuxcn.org/viewtopic.php?id=10529&amp;amp;p=1

"><meta name="keywords"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="short icon" href="/images/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/blog_basic.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"><meta name="generator" content="Hexo 5.3.0"></head><body><div class="sidebar animated fadeInDown"><div class="logo-title"><div class="title"><img src="/images/logo@2x.png" style="width:127px;"><h3 title=""><a href="/">JunLu</a></h3></div></div><ul class="social-links"></ul><div class="footer"><a target="_blank" href="/"><span>Theme by </span></a><a target="_blank" rel="noopener" href="https://www.caicai.me"> CaiCai </a><span>&</span><a target="_blank" rel="noopener" href="https://github.com/Ben02/hexo-theme-Anatole"> Ben</a><div class="by_farbox"><a href="https://hexo.io/zh-cn/" target="_blank">Proudly published with Hexo&#65281;</a></div></div></div><div class="main"><div class="page-top animated fadeInDown"><div class="nav"><li><a href="/">Home</a></li><li><a href="/about">Sobre</a></li><li><a href="/archives">Arquivo</a></li><li><a href="/links">Links</a></li></div><div class="information"><div class="back_btn"><li><a class="fa fa-chevron-left" onclick="window.history.go(-1)"> </a></li></div><div class="avatar"><img></div></div></div><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post animated fadeInDown"><div class="post-title"><h3><a>clion输入中文最新解决方法</a></h3></div><div class="post-content"><h1 id="CLion-输入中文失效问题解决方法-最新"><a href="#CLion-输入中文失效问题解决方法-最新" class="headerlink" title="CLion 输入中文失效问题解决方法-最新"></a>CLion 输入中文失效问题解决方法-最新</h1><blockquote>
<p>此处参考链接为：</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/u011166277/article/details/106287587">https://blog.csdn.net/u011166277/article/details/106287587</a></p>
<p><a target="_blank" rel="noopener" href="https://bbs.archlinuxcn.org/viewtopic.php?id=10529&amp;p=1">https://bbs.archlinuxcn.org/viewtopic.php?id=10529&amp;p=1</a></p>
</blockquote>
<h2 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h2><p>Linux系统上，使用JetBrains的IDE，会出现输入中文的时候，搜狗输入法的候选词框一直停留在左下角，不会跟随光标移动</p>
<h2 id="问题根源"><a href="#问题根源" class="headerlink" title="问题根源"></a>问题根源</h2><p>具体问题官方其实七年前就有了（参考<a target="_blank" rel="noopener" href="https://youtrack.jetbrains.com/issue/JBR-2460），但是比较坑的是官方也一直没有解决这个问题；">https://youtrack.jetbrains.com/issue/JBR-2460），但是比较坑的是官方也一直没有解决这个问题；</a></p>
<p>简单来说就是<code>Idea</code>的<code>jre</code>运行环境一个bug，导致输入法无法定位到鼠标位置。</p>
<h2 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h2><p>由于其问题根源在于源码，所以需要重新编译才能获得比较好的使用体验；其中解决方法1能够较好的解决问题，但是特别费事，困难重重；解决方法2比较简单，但是使用体验并不是很好。</p>
<p>解决方案1的成品链接：</p>
<p>链接: <a target="_blank" rel="noopener" href="https://pan.baidu.com/s/1KGRDCcFa0gLw-xQAa8cvaw">https://pan.baidu.com/s/1KGRDCcFa0gLw-xQAa8cvaw</a>  密码: rm38</p>
<h3 id="1-重新编译JetBRainsRuntime"><a href="#1-重新编译JetBRainsRuntime" class="headerlink" title="1.重新编译JetBRainsRuntime"></a>1.重新编译<code>JetBRainsRuntime</code></h3><ol>
<li><p>下载JetBainsRuntime</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git clone https:&#x2F;&#x2F;github.com&#x2F;JetBrains&#x2F;JetBrainsRuntime.git</span><br></pre></td></tr></table></figure></li>
<li><p>下载patch</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git clone https:&#x2F;&#x2F;github.com&#x2F;prehonor&#x2F;myJetBrainsRuntime.git</span><br></pre></td></tr></table></figure></li>
<li><p>应用patch</p>
<p>将下载的idea.patch文件，复制到JetBrainsRuntime目录下；</p>
<p>之后输入以下命令：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git checkout cfc3e87f2ac27a0b8c78c729c113aa52535feff6</span><br><span class="line">git apply idea.patch</span><br></pre></td></tr></table></figure></li>
<li><p>编译</p>
<p>以Ubuntu为例：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo apt-get install autoconf make build-essential libx11-dev libxext-dev libxrender-dev libxtst-dev libxt-dev libxrandr-dev libcups2-dev libfontconfig1-dev libasound2-dev</span><br><span class="line">cd JetBrainsRuntime</span><br><span class="line">sh .&#x2F;configure --disable-warnings-as-errors</span><br><span class="line"> make images</span><br></pre></td></tr></table></figure></li>
<li><p>更改IDE的启动环境</p>
<p>此处与其他教程有个别不同，以上面的参考教程为例，此处给出的步骤为：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">修改 文件: home&#x2F;idea-2020.1&#x2F;bin&#x2F;idea.sh (找到你自己的idea的安装路径)</span><br><span class="line">在文件开头添加</span><br><span class="line">export IDEA_JDK&#x3D;&#x2F;home&#x2F;prehonor&#x2F;gitproject&#x2F;JetBrainsRuntime&#x2F;build&#x2F;linux-x86_64-normal-server-release&#x2F;images&#x2F;jdk (改成你自己的编译的jdk所在目录)</span><br></pre></td></tr></table></figure>
<p>我使用的方法是在clion中安装插件choose runtime；将路径设置为编译好的JDK；详细使用步骤参考另一篇文章，链接如下：<a href="https://junlu.club/2020/11/27/clion%E8%BE%93%E5%85%A5%E4%B8%AD%E6%96%87/">https://junlu.club/2020/11/27/clion%E8%BE%93%E5%85%A5%E4%B8%AD%E6%96%87/</a></p>
</li>
</ol>
<h3 id="2-修改搜狗输入法设置，使其不跟随光标移动"><a href="#2-修改搜狗输入法设置，使其不跟随光标移动" class="headerlink" title="2.修改搜狗输入法设置，使其不跟随光标移动"></a>2.修改搜狗输入法设置，使其不跟随光标移动</h3><p>这个解决方案特别简单，只需要在设置界面取消勾选跟随光标移动即可，将搜索候选词框放置在屏幕中间，能够解决部分问题；个人更推荐第一种解决方法。</p>
<h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><h3 id="1-JDK版本问题"><a href="#1-JDK版本问题" class="headerlink" title="1. JDK版本问题"></a>1. JDK版本问题</h3><p>编译过程中，需要我使用jdk11的版本，安装命令如下：（参考链接：<a target="_blank" rel="noopener" href="https://wxnacy.com/2018/12/26/ubuntu-install-jdk11/）">https://wxnacy.com/2018/12/26/ubuntu-install-jdk11/）</a></p>
<p>首先我们使用 <code>apt</code> 进行搜索</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo apt search openjdk</span><br></pre></td></tr></table></figure>
<p>如果你的系统版本足够新，比如 18.04 LTS，那么很有可能搜索出这样的条目</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">openjdk-11-jdk&#x2F;bionic-updates,bionic-security,now 10.0.2+13-1ubuntu0.18.04.4 amd64 [installed,automatic]</span><br><span class="line">  OpenJDK Development Kit (JDK)</span><br></pre></td></tr></table></figure>
<p>这代表软件源已经更新了 Java 11，这样直接安装默认版本即可</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo apt install -y default-jdk</span><br></pre></td></tr></table></figure>
<h3 id="2-dpkg处理软件包的问题"><a href="#2-dpkg处理软件包的问题" class="headerlink" title="2. dpkg处理软件包的问题"></a>2. dpkg处理软件包的问题</h3><p>参考链接：<a target="_blank" rel="noopener" href="https://www.qingsword.com/qing/ubuntu-dpkg-configure-error.html">https://www.qingsword.com/qing/ubuntu-dpkg-configure-error.html</a></p>
<p>解决方法：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#1.重命名dpkg目录下的info目录</span><br><span class="line"> sudo mv &#x2F;var&#x2F;lib&#x2F;dpkg&#x2F;info &#x2F;var&#x2F;lib&#x2F;dpkg&#x2F;info_qingsword</span><br><span class="line">#2.创建一个新的info文件夹</span><br><span class="line">sudo mkdir &#x2F;var&#x2F;lib&#x2F;dpkg&#x2F;info</span><br><span class="line">#3.执行更新操作</span><br><span class="line">sudo apt-get update &amp;&amp; sudo apt-get -f install</span><br><span class="line">#4.将更新操作产生的文件，全部复制到重命名的info_qingsword文件夹下</span><br><span class="line">sudo mv &#x2F;var&#x2F;lib&#x2F;dpkg&#x2F;info&#x2F;* &#x2F;var&#x2F;lib&#x2F;dpkg&#x2F;info_qingsword</span><br><span class="line">#5.删除创建的info文件夹</span><br><span class="line">sudo rm -rf &#x2F;var&#x2F;lib&#x2F;dpkg&#x2F;info</span><br><span class="line">#6.将重命名的info_qingsword文件夹重新重命名为info</span><br><span class="line">sudo mv &#x2F;var&#x2F;lib&#x2F;dpkg&#x2F;info_qingsword &#x2F;var&#x2F;lib&#x2F;dpkg&#x2F;info</span><br><span class="line">#7.再次执行更新操作，问题解决</span><br><span class="line">sudo apt-get update &amp;&amp; sudo apt-get upgrade</span><br></pre></td></tr></table></figure>
</div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2021-03-01</span><i class="fa fa-tag"></i><a class="tag" href="/categories/Ubuntu配置/" title="Ubuntu配置">Ubuntu配置 </a><a class="tag" href="/tags/clion/" title="clion">clion </a><a class="tag" href="/tags/搜狗输入法/" title="搜狗输入法">搜狗输入法 </a></div></div></div></div><div class="share"><div class="evernote"><a class="fa fa-bookmark" href="javascript:(function(){EN_CLIP_HOST='http://www.evernote.com';try{var%20x=document.createElement('SCRIPT');x.type='text/javascript';x.src=EN_CLIP_HOST+'/public/bookmarkClipper.js?'+(new%20Date().getTime()/100000);document.getElementsByTagName('head')[0].appendChild(x);}catch(e){location.href=EN_CLIP_HOST+'/clip.action?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title);}})();" ref="nofollow" target="_blank"></a></div><div class="weibo"><a class="fa fa-weibo" href="javascript:void((function(s,d,e){try{}catch(e){}var f='http://service.weibo.com/share/share.php?',u=d.location.href,p=['url=',e(u),'&amp;title=',e(d.title),'&amp;appkey=2924220432'].join('');function a(){if(!window.open([f,p].join(''),'mb',['toolbar=0,status=0,resizable=1,width=620,height=450,left=',(s.width-620)/2,',top=',(s.height-450)/2].join('')))u.href=[f,p].join('');};if(/Firefox/.test(navigator.userAgent)){setTimeout(a,0)}else{a()}})(screen,document,encodeURIComponent));"></a></div><div class="twitter"><a class="fa fa-twitter" target="_blank" rel="noopener" href="http://twitter.com/home?status=,http://junlu.club/2021/03/01/clion输入中文最新解决方法/,JunLu,clion输入中文最新解决方法,;"></a></div></div><div class="pagination"><ul class="clearfix"><li class="pre pagbuttons"><a class="btn" role="navigation" href="/2021/03/06/AZURE-KINECT%E7%94%9F%E6%88%90%E7%82%B9%E4%BA%91/" title="AZURE KINECT生成点云">Post Anterior</a></li><li class="next pagbuttons"><a class="btn" role="navigation" href="/2021/01/28/%E5%B7%A5%E4%B8%9A%E6%9C%BA%E5%99%A8%E4%BA%BA%E8%AF%BE%E7%A8%8B%E5%A4%A7%E4%BD%9C%E4%B8%9A/" title="工业机器人课程大作业">Próximo post</a></li></ul></div></div></div></div></div><script src="/js/jquery.js"></script><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script></body></html>